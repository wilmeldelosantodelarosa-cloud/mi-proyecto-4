<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShopMaster üõí</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
    <!-- Google Fonts (Roboto) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Barra de Navegaci√≥n -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-shopping-cart"></i> ShopMaster
            </a>
            <button class="btn btn-outline-light position-relative" type="button" data-bs-toggle="offcanvas" data-bs-target="#cartOffcanvas" aria-controls="cartOffcanvas">
                <i class="fas fa-shopping-bag"></i> üõçÔ∏è
                <span id="cart-count" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">0</span>
            </button>
        </div>
    </nav>

    <!-- Contenedor Principal de Productos -->
    <main class="container my-5">
        <div id="product-container" class="row g-4">
            <!-- Las tarjetas de productos se insertar√°n aqu√≠ con JavaScript -->
        </div>
    </main>

    <!-- Modal para Detalles del Producto -->
    <div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="productModalLabel">Detalles del Producto</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6 text-center">
                            <img id="modal-product-image" src="" class="img-fluid rounded" alt="Imagen del producto">
                        </div>
                        <div class="col-md-6 d-flex flex-column justify-content-center">
                            <h3 id="modal-product-title"></h3>
                            <p id="modal-product-description"></p>
                            <ul class="list-unstyled">
                                <li><strong>Categor√≠a:</strong> <span id="modal-product-category"></span></li>
                                <li><strong>Precio:</strong> <span id="modal-product-price" class="text-success fw-bold fs-5"></span></li>
                            </ul>
                            <div class="d-flex align-items-center mt-3">
                                <label for="quantity-selector" class="form-label me-2">Cantidad:</label>
                                <input type="number" id="quantity-selector" class="form-control" value="1" min="1" style="width: 80px;">
                            </div>
                            <button id="add-to-cart-btn" class="btn btn-success mt-4 w-100">
                                <i class="fas fa-cart-plus"></i> Agregar al Carrito üõí
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Offcanvas para el Carrito de Compras -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="cartOffcanvas" aria-labelledby="cartOffcanvasLabel">
        <div class="offcanvas-header">
            <h5 id="cartOffcanvasLabel">üõçÔ∏è Mi Carrito</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div id="cart-items-container">
                <!-- Los items del carrito se insertar√°n aqu√≠ -->
            </div>
            <hr>
            <div class="d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Total:</h5>
                <p id="cart-total" class="fw-bold fs-4 text-success mb-0">$0.00</p>
            </div>
            <div class="d-grid mt-4">
                <button id="go-to-payment-btn" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#paymentModal">
                    Ir a Pagar <i class="fas fa-credit-card"></i> üí≥
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para la Pasarela de Pago -->
    <div class="modal fade" id="paymentModal" tabindex="-1" aria-labelledby="paymentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="paymentModalLabel">üí≥ Pasarela de Pago</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="payment-form" class="needs-validation" novalidate>
                        <div class="mb-3">
                            <label for="fullName" class="form-label">Nombre Completo</label>
                            <input type="text" class="form-control" id="fullName" required>
                            <div class="invalid-feedback">Por favor, ingresa tu nombre completo.</div>
                        </div>
                        <div class="mb-3">
                            <label for="cardNumber" class="form-label">N√∫mero de Tarjeta</label>
                            <input type="text" class="form-control" id="cardNumber" required pattern="\d{16}" placeholder="1234567812345678">
                            <div class="invalid-feedback">Ingresa un n√∫mero de tarjeta v√°lido de 16 d√≠gitos.</div>
                        </div>
                        <div class="row">
                            <div class="col-md-7 mb-3">
                                <label for="expiryDate" class="form-label">Fecha de Vencimiento</label>
                                <input type="text" class="form-control" id="expiryDate" required pattern="(0[1-9]|1[0-2])\/\d{2}" placeholder="MM/AA">
                                <div class="invalid-feedback">Usa el formato MM/AA.</div>
                            </div>
                            <div class="col-md-5 mb-3">
                                <label for="cvv" class="form-label">C√≥digo de Seguridad</label>
                                <input type="text" class="form-control" id="cvv" required pattern="\d{3,4}">
                                <div class="invalid-feedback">Debe tener 3 o 4 d√≠gitos.</div>
                            </div>
                        </div>
                        <div class="alert alert-success d-none" id="payment-success-alert" role="alert">
                            ‚úÖ ¬°Pago procesado con √©xito! Generando tu ticket...
                        </div>
                        <button type="submit" class="btn btn-success w-100">Pagar Ahora ‚úÖ</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Custom JS -->
    <script src="script.js"></script>
</body>
</html>
